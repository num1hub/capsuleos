<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>CapsuleOS</title>
<style>
:root { --bg-color: #121212; --text-color: #e0e0e0; --accent-color: #2979ff; }
body { background: var(--bg-color); color: var(--text-color); font-family: sans-serif; margin:0; }
header { padding:10px; background:#1e1e1e; display:flex; justify-content:space-between; align-items:center; }
button { background: var(--accent-color); border:none; color:#fff; padding:6px 10px; margin-left:5px; cursor:pointer; }
#capsules { padding:10px; }
.modal { position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.8); display:none; align-items:center; justify-content:center; }
.modal-content { background:#1e1e1e; padding:20px; }
</style>
</head>
<body>
<header>
  <div>CapsuleOS</div>
  <div>
    <button id="newBtn">New</button>
    <button id="searchBtn">Search</button>
  </div>
</header>
<div id="capsules"></div>

<div id="editModal" class="modal">
  <div class="modal-content">
    <h2 id="modalTitle">New Capsule</h2>
    <input id="capTitle" placeholder="Title"/><br/>
    <input id="capTags" placeholder="tags comma separated"/><br/>
    <textarea id="capPayload" placeholder='{"type":"neuro","content":{}}'></textarea><br/>
    <label><input type="checkbox" id="capArchived"/> Archived</label><br/>
    <button id="saveCapsule">Save</button>
    <button id="cancelEdit">Cancel</button>
  </div>
</div>

<div id="searchModal" class="modal">
  <div class="modal-content">
    <input id="searchQuery" placeholder="Search"/><br/>
    <label><input type="checkbox" id="includeArchived"/> Include Archived</label><br/>
    <select id="versionMode">
      <option value="latest">Latest versions only</option>
      <option value="all">All versions</option>
    </select><br/>
    <button id="runSearch">Search</button>
    <div id="searchResults"></div>
    <button id="closeSearch">Close</button>
  </div>
</div>

<script src="js/api.js"></script>
<script src="app.js"></script>
</body>
</html>
